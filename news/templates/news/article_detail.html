{% extends 'base.html' %} 
{% load static %} 

{% block title %}{{ article.title }} - Berita Olahraga{% endblock %} 

{% block content %}
<div class="container mx-auto px-4 py-8">
  <div class="max-w-4xl mx-auto bg-gray-800 text-white shadow-lg rounded-lg overflow-hidden">
    
    <div class="p-6 md:p-8">
      <h1 class="text-3xl md:text-4xl font-bold mb-4">{{ article.title }}</h1>
      <div class="text-gray-400 text-sm mb-6 flex flex-wrap items-center gap-x-3 gap-y-1">
        
        <span>Oleh: 
          <a href="#" class="text-blue-400 hover:text-blue-300 transition duration-150">
            {{ article.author.username|default:"Unknown" }}
          </a>
        </span>

        <span class="hidden md:inline text-gray-600">|</span> 
        
        <span>{{ article.created_at|date:"l, d F Y" }}</span>
        
        <span class="hidden md:inline text-gray-600">|</span>
        
        <span>Kategori: 
          <a href="{% url 'news:article-list' %}?category={{ article.category }}" class="text-blue-400 hover:text-blue-300 transition duration-150">
            {{ article.get_category_display }}
          </a>
        </span>
        
        <span class="hidden md:inline text-gray-600">|</span>
        
        <span>Dilihat: {{ article.news_views }} kali</span>
      </div>

      {% if user.is_authenticated and user == article.author or user.is_superuser %}
      <div class="border-t border-b border-gray-700 py-4 my-6 flex flex-wrap gap-3">
          <a href="{% url 'news:article-update' article.id %}" 
             class="inline-flex items-center bg-yellow-500 hover:bg-yellow-600 text-white font-medium py-2 px-4 rounded-lg transition duration-150 text-sm">
             <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" /> </svg>
             Edit Artikel
          </a>
          <a href="{% url 'news:article-delete' article.id %}" 
             class="inline-flex items-center bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-lg transition duration-150 text-sm">
             <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /> </svg>
             Hapus Artikel
          </a>
      </div>
      {% endif %}
    </div>

    <div class="w-full flex justify-center px-4 md:px-0 py-4 bg-gray-900">
        {% if article.thumbnail %}
            <img
              src="{{ article.thumbnail }}"
              alt="{{ article.title }}"
              class="article-thumbnail-detail rounded-lg shadow-md" 
            />
        {% else %}
            <img
              src="{% static 'images/no-image.jpg' %}" 
              alt="Gambar tidak tersedia"
              class="article-thumbnail-detail rounded-lg shadow-md" 
              height="560"
              width="366"
            />
        {% endif %}
    </div>
    
    <div class="p-6 md:p-8 prose prose-lg prose-invert max-w-none">
     {{ article.content|linebreaksbr }}
    </div>

    <div class="p-6 md:p-8 border-t border-gray-700 mt-6 flex flex-wrap justify-between items-center gap-4">
      <a href="{% url 'news:article-list' %}" class="text-blue-400 hover:text-blue-300 transition duration-150">
        ← Kembali ke Daftar Artikel
      </a>

      <a href="#" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ease-in-out transform hover:scale-105">
         Diskusi Artikel →
       </a>
    </div>
  </div>
</div>
{% endblock %} 

{% block extra_css %}

<style>
.article-thumbnail-detail {
  display: block;
  width: 100%;
  max-width: 500px;     /* maksimal lebar */
  aspect-ratio: 16 / 9; /* menjaga proporsi */
  object-fit: cover;
  object-position: center;
  border-radius: 0.5rem;
  margin-left: auto;
  margin-right: auto;
}

  .prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 { color: #fff; }
  .prose p { color: #d1d5db; line-height: 1.75; margin-bottom: 1.25em; }
  .prose a { color: #60a5fa; text-decoration: underline; transition: color 0.15s ease-in-out; }
  .prose a:hover { color: #93c5fd; }
</style>
{% endblock %}